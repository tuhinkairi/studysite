{% extends 'layout.html' %}
{% block body %}
<main class="postshow text-gray-900 lg:px-10 " style="scroll-behavior: smooth;">
    <!-- dashboard-->
    <h1 class=" py-2 my-5 text-3xl capitalize text-center font-sm border-b-2 border-b-red-500 w-fit px-3 m-auto">
        welcome to dashboard</h1>
    <div id="dashboard-control" class="flex items-center justify-center space-x-7 w-fit m-auto"
        style="padding-top:.1rem; padding-bottom:1rem">
        <!-- control btns -->
        <span>
            <a href="#upload">
                <button type="button" id="upload_posts"
            class="flex mx-auto text-white bg-gray-700 border-0 py-1 px-2 focus:outline-none hover:bg-gray-800 hover:text-cyan-400 rounded mr-2 capitalize ">upload posts
        </button>
    </a>
        </span>
        <span>
            <button type="button" id="edit_showing"
            class="flex mx-auto text-white bg-gray-700 hover:text-cyan-400 border-0 py-1 px-2 focus:outline-none hover:bg-gray-800 rounded  mr-2 capitalize" style="margin-right: 5px;">edit
            showing</button>
        </span>
        <form action="/logout" method="post" class="w-fit">
            <button type="submit" id="Logout"
                class="flex mx-auto text-white bg-gray-700 border-0 py-1 hover:text-cyan-400 px-2 focus:outline-none hover:bg-gray-800 rounded  capitalize">Logout</button>
        </form>
    </div>
    <!-- showing allposts -->
    <section id='posttable' class="my-5" >
        
        <h1 class="py-2 mt-5 text-3xl my-5 capitalize text-center font-sm border-b-2 border-b-cyan-500 w-fit px-3 m-auto">
            My Posts</h1>
        <div class="flex justify-center items-center" style=" overflow-y: auto;"  >
        <table class="table border inline-block" style="max-height:450px; overflow-y: auto"  >
            <thead class="thead-dark bg-gray-700 text-white">
                <tr >
                    <th class="py-2 px-2" scope="col">sno</th>
                    <th class="py-2" scope="col">Title</th>
                    <th class="py-2" scope="col">Course</th>
                    <th class="py-2" scope="col">edit post</th>
                    <th class="py-2" scope="col">delete post</th>
                    
                </tr>
            </thead>

            <tbody >
                    
                {% for items in data %}
                <tr class="py-5">
                    <td scope="row" class="py-2 text-wrap">{{items.sno}}</td>
                    <td scope="row" class="py-2 text-wrap">{{ items.title }}</td>
                    <td scope="row" class="py-2 text-wrap">{{ items.course }}</td>
                    <td scope="row"><a href="/edit/{{items.sno}}"><button type="submit" id="edit"
                        class="mx-auto text-white hover:text-cyan-400 bg-gray-700 border-0 py-1 px-1 m-auto focus:outline-none hover:bg-gray-800 rounded capitalize">edit
                        posts</button></a></td>
                    <td scope="row" class="pr-2"><form action="/delete/{{ items.sno}}" method="post"><button type="submit" id="del-btn"
                        class="mx-auto text-white bg-gray-700 border-0 py-1 px-1 m-auto focus:outline-none hover:text-cyan-400 hover:bg-gray-800 rounded  capitalize">delete
                        posts</button></a></form>
                    </td>
                </tr>
                
                 {% endfor %}
            </tbody>
        </table>
        </div>
    </section>
    <!-- upload posts -->
    <div id='upload' style="position:absolute; z-index:-1; top:880px"></div>
    <form action="/dashboard" method="post" enctype="multipart/form-data" style="max-width:600px;margin:auto;padding:0px 5px;"
        >
        <h1 class="py-2 my-5 text-3xl capitalize text-center font-sm border-b-2 border-b-red-500 w-fit px-3 m-auto">
            upload new Posts</h1>
        <div class="flex flex-col my-5">

            <label for="course_name capitalize text-md mt-2">Course Name</label>
    <input type="text " class="border p-1 my-2" name="course_name" id="course_name" placeholder="Enter course name">
            
            <label for="file capitalize text-md mt-2">video </label>
            <input type="file" class="border p-1 my-2 " name="vid_file" id="file">
            
            <label for="thumbnail capitalize text-md mt-2">image</label>
            <input type="file" class="p-1 my-2 border" name="thumbnail" id="thumbnail">

            <label for="dis capitalize text-md my-2">discription</label>
            <textarea class="p-1 border" name="dis" cols="20" rows="10" id="dis" placeholder="content-here"></textarea>
        </div>
        <div class="p-2 box-border my-5 w-fit m-auto">
            <button type="button" id="edit_showing"
            class="flex mx-auto text-white bg-gray-700 border-0 hover:text-cyan-400 font-semibold block  py-1 px-2 focus:outline-none hover:bg-gray-800 rounded  mr-2 capitalize" style="margin-right: 5px;">Upload</button>
        </div>
    </form>

</main>
{% endblock %}
